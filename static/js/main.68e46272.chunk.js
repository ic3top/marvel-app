(this.webpackJsonpmarvel=this.webpackJsonpmarvel||[]).push([[0],{30:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(21),r=c.n(a),i=c(9),l=c(3),o=(c(30),c(0)),j=function(){return Object(o.jsxs)("header",{className:"app__header",children:[Object(o.jsx)("h1",{className:"app__title",children:Object(o.jsxs)(i.b,{to:"/",children:[Object(o.jsx)("span",{children:"Marvel"})," ","information portal"]})}),Object(o.jsx)("nav",{className:"app__menu",children:Object(o.jsxs)("ul",{className:"navigation",children:[Object(o.jsx)("li",{className:"navigation__item",children:Object(o.jsx)(i.c,{to:"/characters",activeClassName:"navigation__item_active",children:"Characters"})}),"/",Object(o.jsx)("li",{className:"navigation__item",children:Object(o.jsx)(i.c,{to:"/comics",activeClassName:"navigation__item_active",children:"Comics"})})]})})]})},u=c(11),d=(c(39),c.p+"static/media/avengers.c29e0ef0.png"),m=c.p+"static/media/avengers_logo.9b944f71.png",b=function(){return Object(o.jsxs)("div",{className:"app__banner",children:[Object(o.jsx)("img",{src:d,alt:"Avengers"}),Object(o.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",Object(o.jsx)("br",{}),"Stay tuned!"]}),Object(o.jsx)("img",{src:m,alt:"Avengers logo"})]})},h=c(12),O=c(5),x=(c(40),c(10)),_=c.n(x),v=c(14),p=function(){var e=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(null),r=Object(O.a)(a,2),i=r[0],l=r[1],o=Object(n.useCallback)(function(){var e=Object(v.a)(_.a.mark((function e(t){var c,n,a,r,i,o=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:null,a=o.length>3&&void 0!==o[3]?o[3]:{"Content-Type":"application/json"},s(!0),e.prev=4,e.next=7,fetch(t,{method:c,body:n,headers:a});case 7:return r=e.sent,e.next=10,r.json();case 10:if(404!==(i=e.sent).code){e.next=13;break}throw Error(i.status);case 13:return s(!1),e.abrupt("return",i);case 17:throw e.prev=17,e.t0=e.catch(4),s(!1),e.t0 instanceof Error&&l(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:c,request:o,error:i,clearError:Object(n.useCallback)((function(){return l(null)}),[])}}(),t=e.loading,c=e.request,s=e.error,a=e.clearError,r="https://gateway.marvel.com:443/v1/public",i="apikey=2dbccd952360b55320217b27f828e217",l=function(){var e=Object(v.a)(_.a.mark((function e(){var t,n,s=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:210,e.next=3,c("".concat(r,"/characters?limit=9&offset=").concat(t,"&").concat(i));case 3:return n=e.sent,e.abrupt("return",n.data.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(e){return c("".concat(r,"/characters/").concat(e,"?").concat(i)).then((function(e){return e.data.results[0]}))},j=function(){var e=Object(v.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(400*Math.random()+1011e3),e.abrupt("return",o(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(v.a)(_.a.mark((function e(){var t,n=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:0,e.abrupt("return",c("".concat(r,"/comics?orderBy=issueNumber%2Cmodified&limit=8&offset=").concat(t,"&").concat(i)).then((function(e){return e.data.results})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(v.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c("".concat(r,"/comics/").concat(t,"?").concat(i)).then((function(e){return e.data.results[0]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{loading:t,error:s,clearError:a,getAllCharacters:l,getCharacterById:o,getRandomCharacter:j,getAllComics:u,getComicById:d}},f=(c(42),function(e){var t=e.label,c=void 0===t?"Hydra is currently attacking, sorry":t;return Object(o.jsxs)("div",{className:"app__error-message",children:[Object(o.jsx)("span",{children:"404"}),Object(o.jsx)("p",{children:c})]})}),g=(c(43),function(e){var t=e.comicsAmount,c=void 0===t?8:t;return Object(o.jsx)(o.Fragment,{children:Object(h.a)(Array(c).keys()).map((function(e){return Object(o.jsxs)("li",{className:"comics__item",children:[Object(o.jsx)("div",{className:"pulse skeleton__comics-img"}),Object(o.jsx)("div",{className:"pulse skeleton__comics-title"})]},e)}))})}),N=function(){var e=p(),t=e.loading,c=e.error,s=e.getAllComics,a=Object(n.useState)([]),r=Object(O.a)(a,2),l=r[0],j=r[1],u=Object(n.useState)(0),d=Object(O.a)(u,2),m=d[0],b=d[1],x=function(e){s(e).then((function(e){return j((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e))}))})).finally((function(){return b((function(e){return e+8}))}))};Object(n.useEffect)((function(){x(m)}),[]);var _=l.map((function(e,t){return Object(o.jsx)("li",{className:"comics__item",children:Object(o.jsxs)(i.b,{to:"comics/".concat(e.id),children:[Object(o.jsx)("img",{src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),alt:e.title,className:"comics__item-img"}),Object(o.jsx)("div",{className:"comics__item-name",children:e.title}),Object(o.jsx)("div",{className:"comics__item-price",children:e.prices[0].price})]})},t)})),v=c?Object(o.jsx)(f,{}):null,N=t?Object(o.jsx)(g,{}):null;return Object(o.jsxs)("div",{className:"comics__list",children:[Object(o.jsxs)("ul",{className:"comics__grid",children:[_,v,N]}),!t&&Object(o.jsx)("button",{className:"button button__main button__long",onClick:function(){return x(m)},children:Object(o.jsx)("div",{className:"inner",children:"load more"})})]})},y=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(u.a,{children:[Object(o.jsx)("meta",{name:"description",content:"Marvel comics catalog"}),Object(o.jsx)("title",{children:"Marvel comics"})]}),Object(o.jsx)(b,{}),Object(o.jsx)(N,{})]})},k=(c(44),c.p+"static/media/thor-weapon.b10f8e63.png"),w=c.p+"static/media/loader.8ee2fdff.svg",C=function(){return Object(o.jsx)("img",{src:w,alt:"loader",style:{margin:"auto",display:"block"}})},E=function(e){var t=e.char,c=t.thumbnail,n=t.description,s=t.name,a=t.urls;return Object(o.jsxs)("div",{className:"random-char__left",children:[Object(o.jsx)("img",{src:"".concat(null===c||void 0===c?void 0:c.path,".").concat(null===c||void 0===c?void 0:c.extension),alt:"randomly picked marvel hero",className:"random-char__img"}),Object(o.jsxs)("div",{className:"random-char__info",children:[Object(o.jsx)("p",{className:"random-char__name title title_fs-22 title_upper",children:s}),Object(o.jsx)("p",{className:"random-char__descr text",children:n||"The information about this character was not found. To read more - follow the links below"}),Object(o.jsxs)("div",{className:"random-char__buttons",children:[Object(o.jsx)("a",{href:null===a||void 0===a?void 0:a[0].url,className:"button button__main",children:Object(o.jsx)("span",{className:"inner",children:null===a||void 0===a?void 0:a[0].type})}),Object(o.jsx)("a",{href:null===a||void 0===a?void 0:a[1].url,className:"button button__secondary",children:Object(o.jsx)("span",{className:"inner",children:null===a||void 0===a?void 0:a[1].type})})]})]})]})},F=function(){var e=Object(n.useState)({}),t=Object(O.a)(e,2),c=t[0],s=t[1],a=p(),r=a.getRandomCharacter,i=a.loading,l=a.error,j=a.clearError;function u(){j(),r().then(s)}Object(n.useEffect)((function(){u()}),[]);var d=l?Object(o.jsx)(f,{}):null,m=i?Object(o.jsx)(C,{}):null,b=i||l?null:Object(o.jsx)(E,{char:c});return Object(o.jsxs)("div",{className:"random-char",children:[d,m,b,Object(o.jsxs)("div",{className:"random-char__right",children:[Object(o.jsx)("div",{className:"random-char__title title title_fs-24 title_white",children:"Random character for today! Do you want to get to know him better?"}),Object(o.jsx)("div",{className:"random-char__title  title title_fs-24 title_white",children:"Or choose another one"}),Object(o.jsx)("button",{className:"button button__main",onClick:u,children:Object(o.jsx)("span",{className:"inner",children:"Try it"})}),Object(o.jsx)("img",{src:k,alt:"mjolnir with a shield",className:"random-char__decoration"})]})]})},S=(c(45),c(46),function(e){var t=e.cardsAmount,c=void 0===t?9:t;return Object(o.jsx)(o.Fragment,{children:Object(h.a)(Array(c).keys()).map((function(e){return Object(o.jsxs)("li",{className:"char__item",children:[Object(o.jsx)("div",{className:"pulse skeleton__card-img"}),Object(o.jsx)("div",{className:"pulse skeleton__card-title"})]},e)}))})}),A=210,I=function(e){var t=e.selectChar,c=Object(n.useState)([]),s=Object(O.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(null),l=Object(O.a)(i,2),j=l[0],u=l[1],d=p(),m=d.loading,b=d.getAllCharacters;function h(){return m?new Promise((function(e){return e()})):b(A).then(_).finally((function(){A+=9}))}function x(e){t(e),u(e)}function _(e){r((function(t){return t.concat(e)}))}Object(n.useEffect)((function(){var e=function(){var e=document.documentElement,t=e.scrollTop,c=e.scrollHeight;t+e.clientHeight>=c-5&&h()};return h().then((function(){return window.addEventListener("scroll",e)})),function(){window.removeEventListener("scroll",e)}}),[]);var v=a.map((function(e){var t,c=null===(t=e.thumbnail.path)||void 0===t?void 0:t.includes("not_available");return Object(o.jsxs)("li",{className:"char__item".concat(j===e.id?" char__item_selected":""),tabIndex:0,onClick:function(){return x(e.id)},onKeyPress:function(t){" "!==t.key&&"Enter"!==t.key||x(e.id)},children:[Object(o.jsx)("img",{src:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),alt:e.name,style:{objectFit:c?"unset":"cover"}}),Object(o.jsx)("span",{className:"title title_upper title_white title_fs-22",children:e.name})]},e.id)}));return Object(o.jsx)("div",{className:"char__list",children:Object(o.jsxs)("ul",{className:"char__grid",children:[v,m&&Object(o.jsx)(S,{})]})})},M=(c(47),c(48),function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),Object(o.jsxs)("div",{className:"skeleton",children:[Object(o.jsxs)("div",{className:"pulse skeleton__header",children:[Object(o.jsx)("div",{className:"pulse skeleton__circle"}),Object(o.jsx)("div",{className:"pulse skeleton__block"})]}),Object(o.jsx)("div",{className:"pulse skeleton__block"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"}),Object(o.jsx)("div",{className:"pulse skeleton__mini"})]})]})}),T=function(e){var t=e.charId,c=Object(n.useState)(null),s=Object(O.a)(c,2),a=s[0],r=s[1],i=p(),l=i.getCharacterById,j=i.loading,u=i.error,d=i.clearError,m=!j||u?null:Object(o.jsx)(M,{}),b=u?Object(o.jsx)(f,{}):null,h=j||u||!a?null:Object(o.jsx)(B,{char:a});return Object(n.useEffect)((function(){t&&(d(),l(t).then(r))}),[t]),Object(o.jsx)(o.Fragment,{children:t&&Object(o.jsxs)("div",{className:"char__info",children:[m,b,h]})})},B=function(e){var t,c,n,s=e.char,a=null===(t=s.thumbnail.path)||void 0===t?void 0:t.includes("not_available");return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"char__basics",children:[Object(o.jsx)("img",{src:"".concat(s.thumbnail.path,".").concat(s.thumbnail.extension),alt:s.name,style:{objectFit:a?"unset":"cover"}}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"title title_fs-22 title_upper",children:s.name}),Object(o.jsx)("div",{className:"char__btns",children:s.urls.map((function(e){return Object(o.jsx)("a",{href:e.url,className:"button button__secondary",children:Object(o.jsx)("div",{className:"inner",children:e.type})},e.url)})).slice(0,2)})]})]}),Object(o.jsx)("div",{className:"char__descr",children:s.description||"Unfortunately, no description was found for this character."}),!!(null===(c=s.comics.items)||void 0===c?void 0:c.length)&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"char__comics",children:"Comics:"}),Object(o.jsx)("ul",{className:"char__comics-list",children:null===(n=s.comics.items)||void 0===n?void 0:n.map((function(e,t){if(!(t>9))return Object(o.jsx)("li",{className:"char__comics-item",children:e.name},t)}))})]})]})},H=c.p+"static/media/bg-hero.4d6f9671.png",L=function(){var e=Object(n.useState)(),t=Object(O.a)(e,2),c=t[0],s=t[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(u.a,{children:[Object(o.jsx)("meta",{name:"description",content:"Marvel characters/comics catalog"}),Object(o.jsx)("title",{children:"Marvel characters"})]}),Object(o.jsx)(F,{}),Object(o.jsxs)("div",{className:"char__content",children:[Object(o.jsx)(I,{selectChar:function(e){return s(e)}}),Object(o.jsx)(T,{charId:c}),Object(o.jsx)("img",{className:"bg-decoration",src:H,alt:"vision"})]})]})},P=(c(49),function(e){var t,c,n,s,a=e.comic;return Object(o.jsxs)("div",{className:"single-comic",children:[Object(o.jsxs)(u.a,{children:[Object(o.jsx)("meta",{name:"description",content:"".concat(a.title," comic book")}),Object(o.jsx)("title",{children:a.title})]}),Object(o.jsx)("img",{src:"".concat(null===(t=a.thumbnail)||void 0===t?void 0:t.path,".").concat(null===(c=a.thumbnail)||void 0===c?void 0:c.extension),alt:a.title,className:"single-comic__img"}),Object(o.jsxs)("div",{className:"single-comic__info",children:[Object(o.jsx)("h2",{className:"single-comic__name",children:a.title}),Object(o.jsx)("p",{className:"single-comic__descr",children:a.description}),Object(o.jsxs)("p",{className:"single-comic__descr",children:[a.pageCount," ","pages."]}),Object(o.jsxs)("p",{className:"single-comic__descr",children:["Language:",null===(n=a.textObjects)||void 0===n?void 0:n[0].language]}),null===(s=a.prices)||void 0===s?void 0:s.map((function(e){if(e.type&&e.price)return Object(o.jsxs)("div",{className:"single-comic__price",children:[e.type,":"," ",e.price,"$"]})}))]}),Object(o.jsx)(i.b,{to:"/comics",className:"single-comic__back",children:"Back to all"})]})}),R=function(){var e=Object(l.g)().comicId,t=Object(n.useState)({}),c=Object(O.a)(t,2),s=c[0],a=c[1],r=p(),i=r.getComicById,j=r.error,u=r.loading,d=r.clearError;Object(n.useEffect)((function(){d(),i(e).then(a)}),[e]);var m=j||u?null:Object(o.jsx)(P,{comic:s});return Object(o.jsxs)(o.Fragment,{children:[m,u&&Object(o.jsx)(C,{}),j&&Object(o.jsx)(f,{})]})},q=function(){return Object(o.jsx)(R,{})},G=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(u.a,{children:[Object(o.jsx)("meta",{name:"description",content:"Marvel not found page"}),Object(o.jsx)("title",{children:"Marvel not found"})]}),Object(o.jsxs)("div",{style:{marginTop:"100px",textAlign:"center"},children:[Object(o.jsx)(f,{label:"Hydra stole this page, try another pass or..."}),Object(o.jsx)(i.b,{style:{marginTop:"100px"},to:"/characters",children:"Go to home page"})]})]})};var J=function(){return Object(o.jsx)(i.a,{children:Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(j,{}),Object(o.jsx)("main",{children:Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{exact:!0,path:"/",children:Object(o.jsx)(l.a,{to:"/characters"})}),Object(o.jsx)(l.b,{exact:!0,path:"/characters",children:Object(o.jsx)(L,{})}),Object(o.jsx)(l.b,{exact:!0,path:"/comics",children:Object(o.jsx)(y,{})}),Object(o.jsx)(l.b,{path:"/comics/:comicId",children:Object(o.jsx)(q,{})}),Object(o.jsx)(l.b,{children:Object(o.jsx)(G,{})})]})})]})})};c(50);r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(J,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.68e46272.chunk.js.map